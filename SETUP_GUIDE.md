# 🚀 AI换衣功能配置指南

## 📋 配置步骤

### 1. 获取 Replicate API Token

1. 访问 [Replicate.com](https://replicate.com) 
2. 点击 "Sign up" 注册账户（支持 GitHub 登录）
3. 登录后访问 [API Tokens 页面](https://replicate.com/account/api-tokens)
4. 点击 "Create token" 创建新的 API Token
5. 复制生成的 Token（格式类似：`r8_...`）

### 2. 配置环境变量

1. 打开项目根目录下的 `.env.local` 文件
2. 将 `your_token_here` 替换为你的真实 API Token：
   ```
   REPLICATE_API_TOKEN=r8_your_actual_token_here
   ```

### 3. 重启开发服务器

```bash
# 停止当前服务器 (Ctrl+C)
# 然后重新启动
npm run dev
```

## 🎯 支持的AI模型

我们集成了多个高质量的AI换衣模型：

1. **IDM-VTON** (默认) - 最高质量的虚拟试衣模型
2. **Outfit Anyone** - 通用服装试穿模型  
3. **Virtual Try-On** - 快速虚拟试衣模型

## 📸 图片要求

- **支持格式**: JPEG, PNG, WebP
- **最大尺寸**: 10MB
- **推荐尺寸**: 512x512 到 1024x1024 像素
- **人物图片**: 清晰的正面照，最好是全身照
- **服装图片**: 清晰的服装照片，最好是平铺展示

## 🔧 功能特性

- ✅ 高质量AI换衣效果
- ✅ 多模型支持
- ✅ 快速处理（通常2-5秒）
- ✅ 支持多种图片格式
- ✅ 自动错误处理和回退
- ✅ 实时处理状态显示

## 🎨 使用建议

1. **人物照片**: 选择光线良好、背景简单的正面照
2. **服装照片**: 选择平铺的服装照片效果最佳
3. **处理时间**: 通常需要2-10秒，请耐心等待
4. **多次尝试**: 如果效果不理想，可以尝试不同的模型

## 🚨 故障排除

### 问题1: "Demo Mode" 显示
- **原因**: API Token 未配置或配置错误
- **解决**: 检查 `.env.local` 文件中的 `REPLICATE_API_TOKEN` 设置

### 问题2: 处理失败
- **原因**: 网络问题或API限制
- **解决**: 检查网络连接，确认API Token有效且有足够余额

### 问题3: 图片上传失败
- **原因**: 图片格式不支持或文件过大
- **解决**: 使用支持的格式（JPEG/PNG/WebP）且文件小于10MB

## 💰 费用说明

- Replicate 采用按使用量计费
- 每次AI换衣大约消耗 $0.01-0.05 USD
- 新用户通常有免费额度可供测试

## 📞 技术支持

如果遇到问题，请检查：
1. API Token 是否正确配置
2. 网络连接是否正常
3. 图片是否符合要求
4. 开发服务器是否已重启

配置完成后，您就可以享受强大的AI换衣功能了！🎉 